{"version":3,"sources":["bootstrap-autohide-navbar.ts"],"names":["factory","define","amd","module","exports","root","jQuery","undefined","window","require","$","show","this","element","css","transform","hide","plugin_name","$window","$document","document","defaults","disableAutoHide","delta","duration","shadow","BootstrapAutoHideNavbar","options","settings","extend","hasClass","addClass","box-shadow","transition","init","prototype","onHasScrolled","top","scrollTop","Math","abs","last_position","$nav","outerHeight","_this","height","is_scrolled","scroll","setInterval","call","setDisableAutoHide","flag","fn","instance","each","data"],"mappings":"CAKE,SAAUA,GACW,kBAAXC,SAAyBA,OAAOC,IAC1CD,QAAQ,UAAWD,GACS,gBAAXG,SAAuBA,OAAOC,QAC/CD,OAAOC,QAAU,SAAUC,EAAWC,GAQrC,WAPeC,KAAXD,IAEFA,EADqB,mBAAXE,QACDC,QAAQ,UAERA,QAAQ,UAAUJ,IAE7BL,EAAQM,GACDA,GAGRN,EAAQM,SAER,SAAUI,GACX,YAYA,SAAAC,KACCC,KAAKC,QAAQC,KACZC,UAAW,yBAIb,QAAAC,KACCJ,KAAKC,QAAQC,KACZC,UAAW,6BAlBb,GAAME,GAAc,0BACdC,EAAUR,EAAEF,QACZW,EAAYT,EAAEU,UACdC,GACLC,iBAAiB,EACjBC,MAAO,EACPC,SAAU,IACVC,QAAQ,GAeTC,EAAA,WAKC,QAAAA,GAAYb,EAAkBc,GAC7Bf,KAAKC,QAAUH,EAAEG,GACjBD,KAAKgB,SAAWlB,EAAEmB,UAAWR,EAAUM,GAElCf,KAAKC,QAAQiB,SAAS,qBAC1BlB,KAAKC,QAAQkB,SAAS,oBAEnBnB,KAAKgB,SAASH,QACjBb,KAAKC,QAAQC,KACZkB,aAAc,4BAGhBpB,KAAKC,QAAQC,KACZmB,WAAY,yBAA2BrB,KAAKgB,SAASJ,SAAW,OAGjEZ,KAAKsB,OAmDP,MAhDCR,GAAAS,UAAAD,KAAA,WAkBC,QAAAE,KACC,GAAIC,GAAMnB,EAAQoB,WAEdC,MAAKC,IAAIC,EAAgBJ,IAAQT,EAASL,QAG1Cc,EAAMI,GAAiBJ,EAAMK,EAAKC,cACrCC,EAAM5B,OAEFqB,EAAMnB,EAAQ2B,SAAW1B,EAAU0B,UACtCD,EAAMjC,OAGR8B,EAAgBJ,GA9BjB,GAAMO,GAAQhC,KACR8B,EAAOE,EAAM/B,QACbe,EAAWgB,EAAMhB,SACnBa,EAAgB,EAChBK,GAAc,CA6BlB,OA3BA5B,GAAQ6B,OAAO,WACdD,GAAc,IAGfE,YAAY,WACPF,IAAgBlB,EAASN,kBAC5Bc,IACAU,GAAc,IAEb,KAkBIJ,GAGRhB,EAAAS,UAAAxB,KAAA,WACCA,EAAKsC,KAAKrC,OAGXc,EAAAS,UAAAnB,KAAA,WACCA,EAAKiC,KAAKrC,OAGXc,EAAAS,UAAAe,mBAAA,SAAmBC,GAClBvC,KAAKgB,SAASN,gBAAkB6B,GAElCzB,IAEAhB,GAAE0C,GAAGnC,GAAe,SAAUU,GAC7B,GAAI0B,EASJ,OAPAzC,MAAK0C,KAAK,eAGQ/C,MAFjB8C,EAAW3C,EAAE6C,KAAK3C,KAAM,UAAYK,MAGnCoC,EAAW3C,EAAE6C,KAAK3C,KAAM,UAAYK,EAAa,GAAIS,GAAwBd,KAAMe,OAG9E0B","file":"bootstrap-autohide-navbar.js","sourcesContent":["declare const define: any;\ndeclare const require: any;\ndeclare const module: any;\ndeclare const jQuery: any;\n\n;(function (factory: any) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = function (root: any, jQuery: any) {\n\t\t\tif (jQuery === undefined) {\n\t\t\t\tif (typeof window !== 'undefined')\n\t\t\t\t\tjQuery = require('jquery');\n\t\t\t\telse\n\t\t\t\t\tjQuery = require('jquery')(root);\n\t\t\t}\n\t\t\tfactory(jQuery);\n\t\t\treturn jQuery;\n\t\t};\n\t} else {\n\t\tfactory(jQuery);\n\t}\n}(function ($: any) {\n\t'use strict';\n\n\tconst plugin_name = 'bootstrapAutoHideNavbar';\n\tconst $window = $(window);\n\tconst $document = $(document);\n\tconst defaults = {\n\t\tdisableAutoHide: false,\n\t\tdelta: 5,\n\t\tduration: 250,\n\t\tshadow: false\n\t};\n\n\tfunction show() {\n\t\tthis.element.css({\n\t\t\ttransform: 'translate3d(0, 0, 0)'\n\t\t});\n\t}\n\n\tfunction hide() {\n\t\tthis.element.css({\n\t\t\ttransform: 'translate3d(0, -110%, 0)'\n\t\t});\n\t}\n\n\tclass BootstrapAutoHideNavbar {\n\t\telement: any;\n\t\tsettings: any;\n\t\t_defaults: any;\n\n\t\tconstructor(element: Element, options: any) {\n\t\t\tthis.element = $(element);\n\t\t\tthis.settings = $.extend({}, defaults, options);\n\n\t\t\tif (!this.element.hasClass('navbar-fixed-top'))\n\t\t\t\tthis.element.addClass('navbar-fixed-top');\n\n\t\t\tif (this.settings.shadow)\n\t\t\t\tthis.element.css({\n\t\t\t\t\t'box-shadow': '0 0 4px rgba(0,0,0,0.4)'\n\t\t\t\t});\n\n\t\t\tthis.element.css({\n\t\t\t\ttransition: 'transform ease-in-out ' + this.settings.duration + 'ms'\n\t\t\t});\n\n\t\t\tthis.init();\n\t\t}\n\n\t\tinit(): void {\n\t\t\tconst _this = this;\n\t\t\tconst $nav = _this.element;\n\t\t\tconst settings = _this.settings;\n\t\t\tlet last_position = 0;\n\t\t\tlet is_scrolled = false;\n\n\t\t\t$window.scroll(() => {\n\t\t\t\tis_scrolled = true;\n\t\t\t});\n\n\t\t\tsetInterval(() => {\n\t\t\t\tif (is_scrolled && !settings.disableAutoHide) {\n\t\t\t\t\tonHasScrolled();\n\t\t\t\t\tis_scrolled = false;\n\t\t\t\t}\n\t\t\t}, 250);\n\n\t\t\tfunction onHasScrolled() {\n\t\t\t\tvar top = $window.scrollTop();\n\n\t\t\t\tif (Math.abs(last_position - top) <= settings.delta)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (top > last_position && top > $nav.outerHeight()) {\n\t\t\t\t\t_this.hide();\n\t\t\t\t} else {\n\t\t\t\t\tif (top + $window.height() < $document.height())\n\t\t\t\t\t\t_this.show();\n\t\t\t\t}\n\n\t\t\t\tlast_position = top;\n\t\t\t}\n\n\t\t\treturn $nav;\n\t\t}\n\n\t\tshow(): void {\n\t\t\tshow.call(this);\n\t\t}\n\n\t\thide(): void {\n\t\t\thide.call(this);\n\t\t}\n\n\t\tsetDisableAutoHide(flag: boolean): void {\n\t\t\tthis.settings.disableAutoHide = flag;\n\t\t}\n\t}\n\n\t$.fn[plugin_name] = function (options: any) {\n\t\tvar instance;\n\n\t\tthis.each(function () {\n\t\t\tinstance = $.data(this, 'plugin_' + plugin_name);\n\n\t\t\tif (instance === undefined)\n\t\t\t\tinstance = $.data(this, 'plugin_' + plugin_name, new BootstrapAutoHideNavbar(this, options));\n\t\t});\n\n\t\treturn instance;\n\t};\n}));"]}